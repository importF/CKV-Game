[gd_scene load_steps=10 format=3 uid="uid://cgjqcnh0hocid"]

[ext_resource type="Environment" uid="uid://dgwki8y1f6sbc" path="res://addons/SunshineVolumetricClouds/ExampleWorldEnvironment.tres" id="2_7w6ek"]
[ext_resource type="PackedScene" uid="uid://byjn5yc1m1okl" path="res://addons/SunshineVolumetricClouds/CloudsPrefab.tscn" id="3_ilkik"]
[ext_resource type="Material" uid="uid://ciav75toskj4s" path="res://Materials/Forrest_ground.tres" id="3_jtj84"]
[ext_resource type="Material" uid="uid://dkvvs8sytqda2" path="res://Materials/Pillars.tres" id="4_t4ksb"]
[ext_resource type="Script" path="res://addons/ultimate_character/UCharacterBody3D.gd" id="5_l56c1"]

[sub_resource type="CylinderMesh" id="CylinderMesh_ym8im"]
top_radius = 200.0
bottom_radius = 200.0
height = 2000.0

[sub_resource type="CapsuleMesh" id="CapsuleMesh_pushb"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_u8n8h"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_e4mst"]
height = 1.3

[node name="World" type="Node3D"]

[node name="Graphics" type="Node" parent="."]

[node name="CloudsSystem" parent="Graphics" node_paths=PackedStringArray("sunLight", "worldEnvironment") instance=ExtResource("3_ilkik")]
sunLight = NodePath("../Sun")
worldEnvironment = NodePath("../WorldEnvironment")
sunColorDefault = Color(0.964706, 0.94902, 0.933333, 1)
overrideAmbientLight = true
ambientColorDefault = Color(0.0470588, 0.0745098, 0.0941176, 1)
fogColorDefault = Color(0.815686, 0.843137, 0.866667, 1)

[node name="WorldEnvironment" type="WorldEnvironment" parent="Graphics"]
environment = ExtResource("2_7w6ek")

[node name="Sun" type="DirectionalLight3D" parent="Graphics"]
transform = Transform3D(0.512659, -0.728218, 0.454839, -0.647287, 0.0202411, 0.761978, -0.564093, -0.685046, -0.460989, 0, 275.423, 115.358)
light_color = Color(0.964706, 0.94902, 0.933333, 1)
shadow_enabled = true
directional_shadow_split_1 = 0.005
directional_shadow_blend_splits = true
directional_shadow_max_distance = 10000.0

[node name="TestWorld" type="Node3D" parent="."]

[node name="OmniLight3D" type="OmniLight3D" parent="TestWorld"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.8445, 1.81158)
light_color = Color(0.270588, 0.313726, 0.490196, 1)
light_energy = 6.875
light_volumetric_fog_energy = 16.0
shadow_enabled = true
omni_range = 20.0

[node name="Platform" type="CSGBox3D" parent="TestWorld"]
cast_shadow = 0
use_collision = true
size = Vector3(30000, 1, 30000)
material = ExtResource("3_jtj84")

[node name="Pillar" type="MeshInstance3D" parent="TestWorld"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1318.16, 770.702, -551.57)
mesh = SubResource("CylinderMesh_ym8im")
skeleton = NodePath("../..")
surface_material_override/0 = ExtResource("4_t4ksb")

[node name="Pillar2" type="MeshInstance3D" parent="TestWorld"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1318.16, 770.702, -2340.57)
mesh = SubResource("CylinderMesh_ym8im")
skeleton = NodePath("../..")
surface_material_override/0 = ExtResource("4_t4ksb")

[node name="Pillar3" type="MeshInstance3D" parent="TestWorld"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1324.37, 804.236, -4257.17)
mesh = SubResource("CylinderMesh_ym8im")
skeleton = NodePath("../..")
surface_material_override/0 = ExtResource("4_t4ksb")

[node name="Pillar4" type="MeshInstance3D" parent="TestWorld"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1318.16, 770.702, -6393.57)
mesh = SubResource("CylinderMesh_ym8im")
skeleton = NodePath("../..")
surface_material_override/0 = ExtResource("4_t4ksb")

[node name="Pillar5" type="MeshInstance3D" parent="TestWorld"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1318.16, 770.702, -8411.57)
mesh = SubResource("CylinderMesh_ym8im")
skeleton = NodePath("../..")
surface_material_override/0 = ExtResource("4_t4ksb")

[node name="Pillar6" type="MeshInstance3D" parent="TestWorld"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1318.16, 770.702, -10475.6)
mesh = SubResource("CylinderMesh_ym8im")
skeleton = NodePath("../..")
surface_material_override/0 = ExtResource("4_t4ksb")

[node name="FPCC" type="CharacterBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.457367, 0)
script = ExtResource("5_l56c1")

[node name="MeshInstance3D" type="MeshInstance3D" parent="FPCC"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
mesh = SubResource("CapsuleMesh_pushb")

[node name="CollisionShapeNormal" type="CollisionShape3D" parent="FPCC"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
shape = SubResource("CapsuleShape3D_u8n8h")

[node name="CollisionShapeCrouch" type="CollisionShape3D" parent="FPCC"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.65, 0)
shape = SubResource("CapsuleShape3D_e4mst")
disabled = true

[node name="Head" type="Node3D" parent="FPCC"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.8, 0)

[node name="Camera" type="Camera3D" parent="FPCC/Head"]

[node name="RayCast3D" type="RayCast3D" parent="FPCC"]
target_position = Vector3(0, 2, 0)
